<!doctype html>
<html>
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
<style>
h1,
h2,
h3,
h4,
h5,
h6,
p,
blockquote {
    margin: 0;
    padding: 0;
}
body {
    font-family: "Helvetica Neue", Helvetica, "Hiragino Sans GB", Arial, sans-serif;
    font-size: 13px;
    line-height: 18px;
    color: #737373;
    background-color: white;
    margin: 10px 13px 10px 13px;
}
table {
	margin: 10px 0 15px 0;
	border-collapse: collapse;
}
td,th {	
	border: 1px solid #ddd;
	padding: 3px 10px;
}
th {
	padding: 5px 10px;	
}

a {
    color: #0069d6;
}
a:hover {
    color: #0050a3;
    text-decoration: none;
}
a img {
    border: none;
}
p {
    margin-bottom: 9px;
}
h1,
h2,
h3,
h4,
h5,
h6 {
    color: #404040;
    line-height: 36px;
}
h1 {
    margin-bottom: 18px;
    font-size: 30px;
}
h2 {
    font-size: 24px;
}
h3 {
    font-size: 18px;
}
h4 {
    font-size: 16px;
}
h5 {
    font-size: 14px;
}
h6 {
    font-size: 13px;
}
hr {
    margin: 0 0 19px;
    border: 0;
    border-bottom: 1px solid #ccc;
}
blockquote {
    padding: 13px 13px 21px 15px;
    margin-bottom: 18px;
    font-family:georgia,serif;
    font-style: italic;
}
blockquote:before {
    content:"\201C";
    font-size:40px;
    margin-left:-10px;
    font-family:georgia,serif;
    color:#eee;
}
blockquote p {
    font-size: 14px;
    font-weight: 300;
    line-height: 18px;
    margin-bottom: 0;
    font-style: italic;
}
code, pre {
    font-family: Monaco, Andale Mono, Courier New, monospace;
}
code {
    background-color: #fee9cc;
    color: rgba(0, 0, 0, 0.75);
    padding: 1px 3px;
    font-size: 12px;
    -webkit-border-radius: 3px;
    -moz-border-radius: 3px;
    border-radius: 3px;
}
pre {
    display: block;
    padding: 14px;
    margin: 0 0 18px;
    line-height: 16px;
    font-size: 11px;
    border: 1px solid #d9d9d9;
    white-space: pre-wrap;
    word-wrap: break-word;
}
pre code {
    background-color: #fff;
    color:#737373;
    font-size: 11px;
    padding: 0;
}
sup {
    font-size: 0.83em;
    vertical-align: super;
    line-height: 0;
}
* {
	-webkit-print-color-adjust: exact;
}
@media screen and (min-width: 914px) {
    body {
        width: 854px;
        margin:10px auto;
    }
}
@media print {
	body,code,pre code,h1,h2,h3,h4,h5,h6 {
		color: black;
	}
	table, pre {
		page-break-inside: avoid;
	}
}
</style>
<title>小蚂蚁后台数据文档</title>

</head>
<body>
<h2>小蚂蚁后台数据文档</h2>

<h3>任务 Entity</h3>

<table>
<thead>
<tr>
<th align="center">字段</th>
<th align="center">类型</th>
<th align="center">是否必需</th>
<th align="center">说明</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center">taskInd</td>
<td align="center">int</td>
<td align="center">否</td>
<td align="center">任务id</td>
</tr>
<tr>
<td align="center">userId</td>
<td align="center">int</td>
<td align="center">否</td>
<td align="center">任务创建者id</td>
</tr>
<tr>
<td align="center">taskType</td>
<td align="center">int</td>
<td align="center">是</td>
<td align="center">任务类型</td>
</tr>
<tr>
<td align="center">taskTitle</td>
<td align="center">string</td>
<td align="center">是</td>
<td align="center">任务标题/任务名称</td>
</tr>
<tr>
<td align="center">taskDesc</td>
<td align="center">string</td>
<td align="center">是</td>
<td align="center">任务描述</td>
</tr>
<tr>
<td align="center">taskCount</td>
<td align="center">int</td>
<td align="center">是</td>
<td align="center">任务总数</td>
</tr>
<tr>
<td align="center">taskFee</td>
<td align="center">double</td>
<td align="center">是</td>
<td align="center">任务价格</td>
</tr>
<tr>
<td align="center">taskTemplate</td>
<td align="center">json</td>
<td align="center">是</td>
<td align="center">任务具体内容</td>
</tr>
<tr>
<td align="center">deadLine</td>
<td align="center">date</td>
<td align="center">是</td>
<td align="center">截止日期</td>
</tr>
<tr>
<td align="center">availableTime</td>
<td align="center">date</td>
<td align="center">是</td>
<td align="center">任务上线时间</td>
</tr>
<tr>
<td align="center">createTime</td>
<td align="center">date</td>
<td align="center">否</td>
<td align="center">创建时间由后台生产，前端不用管</td>
</tr>
<tr>
<td align="center">taskRes</td>
<td align="center">string</td>
<td align="center">否</td>
<td align="center">任务来源</td>
</tr>
<tr>
<td align="center">priceType</td>
<td align="center">int</td>
<td align="center">是</td>
<td align="center">价格类型。{1：人民币,2:金币}</td>
</tr>
</tbody>
</table>


<p>日期格式为：「yyyy-MM-dd HH:mm:ss」2015-09-11 21:08:20</p>

<h3>个人任务 Entity</h3>

<table>
<thead>
<tr>
<th align="center">字段</th>
<th align="center">类型</th>
<th align="center">是否必需</th>
<th align="center">说明</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center">pInd</td>
<td align="center">int</td>
<td align="center">否</td>
<td align="center">个人任务id</td>
</tr>
<tr>
<td align="center">taskInd</td>
<td align="center">int</td>
<td align="center">是</td>
<td align="center">任务id</td>
</tr>
<tr>
<td align="center">userId</td>
<td align="center">int</td>
<td align="center">是</td>
<td align="center">个人任务创建者id</td>
</tr>
<tr>
<td align="center">checkUserId</td>
<td align="center">int</td>
<td align="center">是</td>
<td align="center">个人任务审核者</td>
</tr>
<tr>
<td align="center">addInd</td>
<td align="center">int</td>
<td align="center">是</td>
<td align="center">子任务列表</td>
</tr>
<tr>
<td align="center">taskContent</td>
<td align="center">json</td>
<td align="center">是</td>
<td align="center">个人任务内容</td>
</tr>
<tr>
<td align="center">submitTime</td>
<td align="center">date</td>
<td align="center">否</td>
<td align="center">提交时间</td>
</tr>
<tr>
<td align="center">checkDesc</td>
<td align="center">string</td>
<td align="center">是</td>
<td align="center">审核描述</td>
</tr>
<tr>
<td align="center">checkTime</td>
<td align="center">date</td>
<td align="center">是</td>
<td align="center">审核时间</td>
</tr>
<tr>
<td align="center">checkStatus</td>
<td align="center">int</td>
<td align="center">是</td>
<td align="center">任务审核状态 {0：待完成，1：待审核，2：审核通过，3：未通过}</td>
</tr>
<tr>
<td align="center">makeMoney</td>
<td align="center">double</td>
<td align="center">是</td>
<td align="center">个人任务价格</td>
</tr>
<tr>
<td align="center">priceType</td>
<td align="center">int</td>
<td align="center">是</td>
<td align="center">价格类型。{1：人民币，2：金币}</td>
</tr>
</tbody>
</table>


<p>以下查看列表接口 默认都有参数 pageNo=1，和pageSize=20</p>

<p> <strong>错误结果</strong></p>

<p> 有可能的http status值</p>

<table>
<thead>
<tr>
<th align="center">http status</th>
<th align="center">error code</th>
<th align="center">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center">200</td>
<td align="center">ok</td>
<td align="center">响应ok</td>
</tr>
<tr>
<td align="center">400</td>
<td align="center">bad request</td>
<td align="center">参数不正确</td>
</tr>
<tr>
<td align="center">404</td>
<td align="center">无查询结果</td>
<td align="center">无查询结果</td>
</tr>
<tr>
<td align="center">401</td>
<td align="center">无权限及没有登录</td>
<td align="center">登录的token</td>
</tr>
<tr>
<td align="center">500</td>
<td align="center">服务器错误</td>
<td align="center">服务器错误</td>
</tr>
</tbody>
</table>


<h4>数据字典</h4>

<p> taskType 值</p>

<p> 1：问卷；2：搜集；3：检查</p>

<p> <strong>back.antzb.com 为base url。</strong></p>

<h4>发布任务</h4>

<p>提交url:</p>

<pre><code>POST  http://back.antzb.com/web/tasktemplate/add.do
Content-Type：application/json

{ "taskTitle":"sdfsf","taskTemplate":{"content":[{"index":1,"label":"请定位!","name":"selfLocation","question":"请请定位！","type":"geometry","value":["请定位"]},{"index":2,"label":"请拍照!","name":"selfPhoto","question":"请拍照!","type":"img","value":["请上传照片 "]},{"index":3,"label":"请拍照！","name":"selfPhoto","question":"请拍照!","type":"img","value":["请上传照片 "]},{"index":4,"label":"请拍照!","name":"selfPhoto","question":"请拍照!","type":"img","value":["请上传照片 "]},{"index":5,"label":"请输入地址","name":"address","question":"请输入地址","type":"text","value":["请输入地址"]}]}, "taskCount":100, "taskFee":1.0,"deadLine":"2015-09-21 10:23:23","priceType":1,"availableTime":"2016-10-12 11:20:12", "taskType": 1, "taskDesc":"你好是多少的","location":"上海"}
</code></pre>

<p>taskTemplate json 结构体为  {"content":{[Entity]}} 。
其中Entity 伪代码：</p>

<pre><code>private Integer index;
private String question;
private String type;
private String [] value;
private String name;
private String label;     
</code></pre>

<p>其中index，name 值不能重复。</p>

<h4>任务列表</h4>

<pre><code>GET http://back.antzb.com/web/tasktemplate/items.do
</code></pre>

<p>返回数据如下：</p>

<pre><code>{"code":200,"message":"success","data":{"result":[{"taskInd":20,"taskTitle":"拍摄机场广告牌","taskDesc":"拍摄机场附近的广告牌,你有兴趣吗?","createTime":"2015-09-11 00:00:00","hasDoneCount":18,"hasPassCount":5,"taskTemplate":{"content":[{"index":1,"name":"selfLocation","value":["请定位"],"label":"请定位!","question":"请请定位！","type":"geometry"},{"index":2,"name":"selfPhoto","value":["请上传照片 "],"label":"请拍照!","question":"请拍照!","type":"img"},{"index":3,"name":"selfPhoto","value":["请上传照片 "],"label":"请拍照！","question":"请拍照!","type":"img"},{"index":4,"name":"selfPhoto","value":["请上传照片 "],"label":"请拍照!","question":"请拍照!","type":"img"},{"index":5,"name":"address","value":["请输入地址"],"label":"请输入地址","question":"请输入地址","type":"text"}]},"taskType":2,"taskStatus":1,"taskFee":10.0,"priceType":2,"deadLine":"2015-10-01","taskCount":982,"unPassCount":0,"taskTypeDesc":"采集","taskStatusDesc":"编辑中"},{"taskInd":19,"taskTitle":"办公楼拍摄招募令","taskDesc":"日收入500元起。你对自己的摄影技术有信心吗？你有兴趣用你的手机拍摄出你眼中的办公楼吗？你有零散的空闲的时间吗？现某创业App公司，招募对自己手机拍照技术有信心的你，每拍一张指定办公楼照片，就可以得到十几元至几十元的报酬。拿起你的手机，走到你身边的指定办公楼，用你的构图能力，拍摄出你眼中的它。","createTime":"2015-09-06 00:00:00","hasDoneCount":9,"hasPassCount":8,"taskTemplate":{"content":[{"index":2,"name":"selfPhoto","value":["请上传照片 "],"label":"请拍照!","question":"请拍照!","type":"img"},{"index":3,"name":"selfPhoto","value":["请上传照片 "],"label":"请拍照!","question":"请拍照!","type":"img"}]},"taskType":2,"taskStatus":1,"taskFee":30.0,"priceType":2,"deadLine":"2015-12-31","taskCount":491,"unPassCount":0,"taskTypeDesc":"采集","taskStatusDesc":"编辑中"},{"taskInd":18,"taskTitle":"拍拍身边的写字楼","taskDesc":"1、全国范围的写字楼拍拍活动，你拍照，土豪来买单。\r\n2、按照要求拍摄照片并审核通过后，现金奖励立即到账，请查看我的账户信息变动。\r\n3、现金奖励可提现也可兑换礼品。\r\n4、那就赶快开始赚钱吧!","createTime":"2015-08-09 00:00:00","hasDoneCount":-17,"hasPassCount":0,"taskTemplate":{"content":[{"index":1,"name":"selfLocation","value":["请定位"],"label":"请定位！","question":"请请定位！","type":"geometry"},{"index":2,"name":"selfPhoto","value":["请上传照片 "],"label":"请拍照！","question":"请拍照！！","type":"img"},{"index":3,"name":"selfPhoto","value":["请上传照片 "],"label":"请拍照！","question":"请拍照！！","type":"img"},{"index":4,"name":"selfPhoto","value":["请上传照片 "],"label":"请拍照！","question":"请拍照！！","type":"img"}]},"taskType":2,"taskFee":10.0,"priceType":1,"deadLine":"2015-12-31","taskCount":353,"unPassCount":5,"taskTypeDesc":"采集","taskStatusDesc":""},{"taskInd":17,"taskTitle":"找找身边有多少便利店","taskDesc":"地图打开一搜索一大把，名字五花八门，跑过去一看，卖水果的、卖香烟的，是你想要的店吗？拿起手机，拍下门头，方便大家了解是不是自己需要的店，真的还有零钱赚","createTime":"2015-07-19 00:00:00","hasDoneCount":-13,"hasPassCount":5,"taskTemplate":{"content":[{"index":2,"name":"selfLocation","value":["请定位"],"label":"请定位！","question":"请请定位！","type":"geometry"},{"index":1,"name":"selfPhoto","value":["请上传照片 "],"label":"请拍照！","question":"请拍照！！","type":"img"}]},"taskType":2,"taskStatus":1,"taskFee":1.0,"priceType":1,"deadLine":"2015-12-31","taskCount":482473,"unPassCount":32,"taskTypeDesc":"采集","taskStatusDesc":"编辑中"}],"totalCount":15,"pageNo":1,"totalPage":4,"pageSize":4}}
</code></pre>

<table>
<thead>
<tr>
<th align="center">字段</th>
<th align="center">类型</th>
<th align="center">是否必需</th>
<th align="center">说明</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center">taskInd</td>
<td align="center">int</td>
<td align="center">否</td>
<td align="center">任务id</td>
</tr>
<tr>
<td align="center">taskTitle</td>
<td align="center">string</td>
<td align="center">是</td>
<td align="center">任务名称</td>
</tr>
<tr>
<td align="center">taskDesc</td>
<td align="center">string</td>
<td align="center">是</td>
<td align="center">任务描述</td>
</tr>
<tr>
<td align="center">createTime</td>
<td align="center">date</td>
<td align="center">是</td>
<td align="center">创建日期</td>
</tr>
<tr>
<td align="center">hasDoneCount</td>
<td align="center">int</td>
<td align="center">是</td>
<td align="center">已做任务</td>
</tr>
<tr>
<td align="center">hasPassCount</td>
<td align="center">int</td>
<td align="center">是</td>
<td align="center">已审核任务</td>
</tr>
<tr>
<td align="center">taskTemplate</td>
<td align="center">json</td>
<td align="center">否</td>
<td align="center">任务内容</td>
</tr>
<tr>
<td align="center">taskType</td>
<td align="center">int</td>
<td align="center">是</td>
<td align="center">任务类型</td>
</tr>
<tr>
<td align="center">taskFee</td>
<td align="center">double</td>
<td align="center">是</td>
<td align="center">任务价格</td>
</tr>
<tr>
<td align="center">priceType</td>
<td align="center">int</td>
<td align="center">是</td>
<td align="center">价格类型</td>
</tr>
<tr>
<td align="center">deadLine</td>
<td align="center">date</td>
<td align="center">是</td>
<td align="center">截止日期</td>
</tr>
<tr>
<td align="center">taskCount</td>
<td align="center">date</td>
<td align="center">是</td>
<td align="center">任务总数</td>
</tr>
<tr>
<td align="center">unPassCount</td>
<td align="center">int</td>
<td align="center">是</td>
<td align="center">未审核总数</td>
</tr>
<tr>
<td align="center">taskTypeDesc</td>
<td align="center">string</td>
<td align="center">是</td>
<td align="center">采集</td>
</tr>
<tr>
<td align="center">taskStatusDesc</td>
<td align="center">string</td>
<td align="center">否</td>
<td align="center">任务状态描述</td>
</tr>
</tbody>
</table>


<h4>任务详情</h4>

<pre><code>GET back.antzb.com/web/tasktemplate/{taskInd}

eg:  back.antzb.com/web/tasktemplate/20.do

{"code":200,"message":"success","data":{"taskInd":20,"taskTitle":"拍摄机场广告牌","taskDesc":"拍摄机场附近的广告牌,你有兴趣吗?","createTime":"2015-09-11 00:00:00","hasDoneCount":18,"taskTemplate":{"content":[{"question":"请请定位！","name":"selfLocation","index":1,"label":"请定位!","type":"geometry","value":["请定位"]},{"question":"请拍照!","name":"selfPhoto","index":2,"label":"请拍照!","type":"img","value":["请上传照片 "]},{"question":"请拍照!","name":"selfPhoto","index":3,"label":"请拍照！","type":"img","value":["请上传照片 "]},{"question":"请拍照!","name":"selfPhoto","index":4,"label":"请拍照!","type":"img","value":["请上传照片 "]},{"question":"请输入地址","name":"address","index":5,"label":"请输入地址","type":"text","value":["请输入地址"]}]},"taskType":2,"taskStatus":1,"taskFee":10.0,"priceType":2,"deadLine":"2015-10-01 00:00:00","taskCount":1000,"taskStatusDesc":"编辑中","taskTypeDesc":"采集"}}
</code></pre>

<p>字段解释看上文。</p>

<p>响应可能的情况：</p>

<pre><code>{"code":404,"message":"没有此任务"}    
</code></pre>

<h4>个人任务列表：</h4>

<pre><code>GET ：back.antzb.com/web/personaltask/items.do

{"code":200,"message":"success","data":{"result":[{"pind":106,"userName":"17091918139","personaTaskId":106,"taskTemplateId":8,"submit":"2015-07-16 00:00:00","checkStatus":2,"statusDesc":"审核通过"},{"pind":106,"userName":"17091918139","personaTaskId":106,"taskTemplateId":8,"submit":"2015-07-16 00:00:00","checkStatus":2,"statusDesc":"审核通过"},{"pind":106,"userName":"17091918139","personaTaskId":106,"taskTemplateId":8,"submit":"2015-07-16 00:00:00","checkStatus":2,"statusDesc":"审核通过"},{"pind":106,"userName":"17091918139","personaTaskId":106,"taskTemplateId":8,"submit":"2015-07-16 00:00:00","checkStatus":2,"statusDesc":"审核通过"}],"totalCount":2010,"pageNo":1,"totalPage":503,"pageSize":4}}
</code></pre>

<table>
<thead>
<tr>
<th align="center">字段</th>
<th align="center">类型</th>
<th align="center">是否必需</th>
<th align="center">说明</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center">pind</td>
<td align="center">int</td>
<td align="center">否</td>
<td align="center">个人任务id</td>
</tr>
<tr>
<td align="center">userName</td>
<td align="center">string</td>
<td align="center">是</td>
<td align="center">用户名</td>
</tr>
<tr>
<td align="center">personaTaskId</td>
<td align="center">int</td>
<td align="center">是</td>
<td align="center">同pind</td>
</tr>
<tr>
<td align="center">taskTemplateId</td>
<td align="center">int</td>
<td align="center">是</td>
<td align="center">任务id</td>
</tr>
<tr>
<td align="center">submit</td>
<td align="center">date</td>
<td align="center">是</td>
<td align="center">提交时间</td>
</tr>
<tr>
<td align="center">checkStatus</td>
<td align="center">int</td>
<td align="center">是</td>
<td align="center">审核状态 具体值对应查看上面实体对应</td>
</tr>
<tr>
<td align="center">statusDesc</td>
<td align="center">string</td>
<td align="center">是</td>
<td align="center">审核描述</td>
</tr>
</tbody>
</table>


<h4>个人任务详情</h4>

<pre><code>GET  back.antzb.com/web/personaltask/detail.do?id={xx}
eg: back.antzb.com/web/personaltask/detail.do?id=106


{"code":200,"message":"success","data":{"personalTaskDetail":{"pind":106,"taskInd":8,"checkStatus":2,"statusDesc":"审核通过","taskContent":{"1":"淑女都是用阳伞、凉帽、防晒霜的，你晓得不! "}},"taskTemplateContent":"{\"content\":[{\"index\":1,\"label\":\"暴热的夏天，你们都是怎么防晒的？\",\"name\":\"stock\",\"question\":\"暴热的夏天，你们都是怎么防晒的？\",\"type\":\"radio\",\"value\":[\"淑女都是用阳伞、凉帽、防晒霜的，你晓得不! \",\"晒的就是这个颜色，晒晒更健康! \",\" 宅男、宅女，足不出户! \"]}]}","taskTemplateDetail":{"taskInd":8,"taskTitle":"酷热的夏天，你们都是怎么防晒的？","taskDesc":"1、参与趣味调查，欢乐赢取金币。 \r\n2、完成本次调查后，10金币奖励立即到账。\r\n3、金币可兑换手机充值卡或参与其它趣味活动。","hasDoneCount":28,"taskTemplate":{"content":[{"question":"暴热的夏天，你们都是怎么防晒的？","name":"stock","index":1,"label":"暴热的夏天，你们都是怎么防晒的？","type":"radio","value":["淑女都是用阳伞、凉帽、防晒霜的，你晓得不! ","晒的就是这个颜色，晒晒更健康! "," 宅男、宅女，足不出户! "]}]},"taskType":1,"taskStatus":1,"taskFee":10.0,"priceType":2,"taskCount":5000,"taskStatusDesc":"编辑中","taskTypeDesc":"问卷"},"personTaskContent":"{\"1\":\"淑女都是用阳伞、凉帽、防晒霜的，你晓得不! \"}"}}
</code></pre>

<p>响应结果里 personalTaskDetail 表示个人任务详情；taskTemplateContent 表示任务模板格式；taskTemplateDetail 表示任务详情; personTaskContent: 个人做的任务内容。</p>

<p>个人任务内容是 key-value 格式 key的值 对应taskTemplateContent里的index 值。</p>

<h4>审核任务</h4>

<pre><code>POST : back.antzb.com/web/personaltask/audit.do

提交的参数：
eg 审核893 为不通过

pind=893    
checkStatus=3
checkdesc=审核不通过。    

审核894 为通过

pind=894
checkStatus=2
</code></pre>

<p>服务器返回</p>

<pre><code>{"code":200,"message":"success"}
</code></pre>

<h4>任务审核列表</h4>

<p>该接口是只要在个人任务列表接口 多加一个参数就好；</p>

<pre><code>eg : back.antzb.com/web/personaltask/items.do?taskInd=20
</code></pre>

<h4>删除任务</h4>

<pre><code> GET : back.antzb.com/web/tasktemplate/delete.do?taskTemplateId={xx}
</code></pre>

<p>服务器可能的返回</p>

<pre><code>{"code":200,"message":"success"}；
{"code":406,"message":"不能删除的任务"}
</code></pre>

<h4>申请任务上线：</h4>

<pre><code>GET: back.antzb.com/web/translating/doing.do?taskTemplateId={XX}
</code></pre>

<p>服务器可能的返回</p>

<pre><code>    {"code":200,"message":"success","data":2}；
</code></pre>
</body>
</html>